<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
    #box {
        width: 400px;
        height: 500px;
        background: url(images/desktop-bg.png) repeat-x;
    }
    
    .item {
        width: 60px;
        height: 70px;
        text-align: center;
    }
    
    .item img {
        vertical-align: middle;
        display: inline-block;
    }
    
    .item span {
        display: inline-block;
        height: 100%;
        vertical-align: middle;
        width: 0;
    }
    </style>
</head>

<body>
    <div id="box">
        <div class="item" draggable="true">
            <img draggbale="false" src="images/computer.png"><span></span>
        </div>
        <div class="item" draggable="true">
            <img draggbale="false" src="images/oneDrive.png"><span></span>
        </div>
        <div class="item" draggable="true">
            <img draggbale="false" src="images/rubbsh.png"><span></span>
        </div>
        <div class="item" draggable="true">
            <img draggbale="false" src="images/vide-item.png"><span></span>
        </div>
        <div class="item" draggable="true">
            <img draggbale="false" src="images/cssdoc.png"><span></span>
        </div>
    </div>
    <script type="text/javascript">
    var oBox = document.getElementById('box');
    var aItem = document.getElementById('box').getElementsByClassName('item');
    // console.log(aItem);
    for (var i = 0; i < aItem.length; i++) {
        if(i===2){
            continue;
        }
        aItem[i].setAttribute('index',i);
        aItem[i].ondragstart = function(ev) {
            //利用dataTransfer添加数据
            ev.dataTransfer.setData('index', this.getAttribute('index'));
        }
    }
    aItem[2].ondragover = function() {
        return false;
    }

    aItem[2].ondrop = function(ev) {
        //接受数据
        var res = ev.dataTransfer.getData('index');
        console.log(res);
        // aItem[res].style.display = 'none';
        /*父元素.removeChild(子元素)*/
        var aItem=oBox.getElementsByClassName('item');
        for(var i=0;i<aItem.length;i++){
            if(res===aItem[i].getAttribute('index')){
                oBox.removeChild(aItem[i]);
            }
        }
        
       
    }
    </script>
</body>

</html>
